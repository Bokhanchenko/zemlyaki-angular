"use strict";!function(e,r){function t(e){s&&e.get("$route")}function n(e,t,n){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,i,o,c,u){function s(){d&&(n.cancel(d),d=null),f&&(f.$destroy(),f=null),h&&(d=n.leave(h),d.done(function(e){!1!==e&&(d=null)}),h=null)}function l(){var o=e.current&&e.current.locals;if(r.isDefined(o&&o.$template)){var o=a.$new(),c=e.current;h=u(o,function(e){n.enter(e,null,h||i).done(function(e){!1===e||!r.isDefined($)||$&&!a.$eval($)||t()}),s()}),f=c.scope=o,f.$emit("$viewContentLoaded"),f.$eval(p)}else s()}var f,h,d,$=o.autoscroll,p=o.onload||"";a.$on("$routeChangeSuccess",l),l()}}}function a(e,r,t){return{restrict:"ECA",priority:-400,link:function(n,a){var i=t.current,o=i.locals;a.html(o.$template);var c=e(a.contents());if(i.controller){o.$scope=n;var u=r(i.controller,o);i.controllerAs&&(n[i.controllerAs]=u),a.data("$ngControllerController",u),a.children().data("$ngControllerController",u)}n[i.resolveAs||"$resolve"]=o,c(n)}}}var i,o,c,u,s,l=r.module("ngRoute",[]).info({angularVersion:"1.6.6"}).provider("$route",function(){function e(e,t){return r.extend(Object.create(e),t)}function t(e,r){var t=r.caseInsensitiveMatch,n={originalPath:e,regexp:e},a=n.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,r,t,n){return e="?"===n||"*?"===n?"?":null,n="*"===n||"*?"===n?"*":null,a.push({name:t,optional:!!e}),r=r||"",""+(e?"":r)+"(?:"+(e?r:"")+(n&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$*])/g,"\\$1"),n.regexp=new RegExp("^"+e+"$",t?"i":""),n}i=r.isArray,o=r.isObject,c=r.isDefined,u=r.noop;var n={};this.when=function(e,a){var c;if(c=void 0,i(a)){c=c||[];for(var u=0,s=a.length;u<s;u++)c[u]=a[u]}else if(o(a))for(u in c=c||{},a)"$"===u.charAt(0)&&"$"===u.charAt(1)||(c[u]=a[u]);return c=c||a,r.isUndefined(c.reloadOnSearch)&&(c.reloadOnSearch=!0),r.isUndefined(c.caseInsensitiveMatch)&&(c.caseInsensitiveMatch=this.caseInsensitiveMatch),n[e]=r.extend(c,e&&t(e,c)),e&&(u="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/",n[u]=r.extend({redirectTo:e},t(u,c))),this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},s=!0,this.eagerInstantiationEnabled=function(e){return c(e)?(s=e,this):s},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(t,a,i,o,c,s,l,h){function d(e){var n=S.current;(R=(P=w())&&n&&P.$$route===n.$$route&&r.equals(P.pathParams,n.pathParams)&&!P.reloadOnSearch&&!x)||!n&&!P||t.$broadcast("$routeChangeStart",P,n).defaultPrevented&&e&&e.preventDefault()}function $(){var e=S.current,n=P;if(R)e.params=n.params,r.copy(e.params,i),t.$broadcast("$routeUpdate",e);else if(n||e){x=!1,S.current=n;var a=o.resolve(n);h.$$incOutstandingRequestCount(),a.then(p).then(v).then(function(o){return o&&a.then(g).then(function(a){n===S.current&&(n&&(n.locals=a,r.copy(n.params,i)),t.$broadcast("$routeChangeSuccess",n,e))})})["catch"](function(r){n===S.current&&t.$broadcast("$routeChangeError",n,e,r)})["finally"](function(){h.$$completeOutstandingRequest(u)})}}function p(e){var t={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(r.isString(e.redirectTo))t.path=C(e.redirectTo,e.params),t.search=e.params,t.hasRedirection=!0;else{var n=a.path(),i=a.search();e=e.redirectTo(e.pathParams,n,i),r.isDefined(e)&&(t.url=e,t.hasRedirection=!0)}else if(e.resolveRedirectTo)return o.resolve(c.invoke(e.resolveRedirectTo)).then(function(e){return r.isDefined(e)&&(t.url=e,t.hasRedirection=!0),t});return t}function v(e){var r=!0;if(e.route!==S.current)r=!1;else if(e.hasRedirection){var t=a.url(),n=e.url;n?a.url(n).replace():n=a.path(e.path).search(e.search).replace().url(),n!==t&&(r=!1)}return r}function g(e){if(e){var t=r.extend({},e.resolve);return r.forEach(t,function(e,n){t[n]=r.isString(e)?c.get(e):c.invoke(e,null,null,n)}),e=m(e),r.isDefined(e)&&(t.$template=e),o.all(t)}}function m(e){var t,n;return r.isDefined(t=e.template)?r.isFunction(t)&&(t=t(e.params)):r.isDefined(n=e.templateUrl)&&(r.isFunction(n)&&(n=n(e.params)),r.isDefined(n)&&(e.loadedTemplateUrl=l.valueOf(n),t=s(n))),t}function w(){var t,i;return r.forEach(n,function(n,o){var c;if(c=!i){var u=a.path();c=n.keys;var s={};if(n.regexp)if(u=n.regexp.exec(u)){for(var l=1,f=u.length;l<f;++l){var h=c[l-1],d=u[l];h&&d&&(s[h.name]=d)}c=s}else c=null;else c=null;c=t=c}c&&(i=e(n,{params:r.extend({},a.search(),t),pathParams:t}),i.$$route=n)}),i||n[null]&&e(n[null],{params:{},pathParams:{}})}function C(e,t){var n=[];return r.forEach((e||"").split(":"),function(e,r){if(0===r)n.push(e);else{var a=e.match(/(\w+)(?:[?*])?(.*)/),i=a[1];n.push(t[i]),n.push(a[2]||""),delete t[i]}}),n.join("")}var P,R,x=!1,S={routes:n,reload:function(){x=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,x=!1}};t.$evalAsync(function(){d(e),e.defaultPrevented||$()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw f("norout");e=r.extend({},this.current.params,e),a.path(C(this.current.$$route.originalPath,e)),a.search(e)}};return t.$on("$locationChangeStart",d),t.$on("$locationChangeSuccess",$),S}]}).run(t),f=r.$$minErr("ngRoute");t.$inject=["$injector"],l.provider("$routeParams",function(){this.$get=function(){return{}}}),l.directive("ngView",n),l.directive("ngView",a),n.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvZnQvYW5ndWxhci1yb3V0ZS5taW4uanMiXSwibmFtZXMiOlsiSiIsImQiLCJBIiwiayIsImdldCIsIkIiLCJ0IiwidSIsImciLCJyZXN0cmljdCIsInRlcm1pbmFsIiwicHJpb3JpdHkiLCJ0cmFuc2NsdWRlIiwibGluayIsImEiLCJmIiwiYiIsImMiLCJtIiwidiIsImwiLCJjYW5jZWwiLCJuIiwiJGRlc3Ryb3kiLCJwIiwibGVhdmUiLCJkb25lIiwiRSIsImN1cnJlbnQiLCJsb2NhbHMiLCJpc0RlZmluZWQiLCIkdGVtcGxhdGUiLCIkbmV3IiwiZW50ZXIiLCJ3IiwiJGV2YWwiLCJzY29wZSIsIiRlbWl0IiwiYXV0b3Njcm9sbCIsIm9ubG9hZCIsIiRvbiIsIkMiLCJodG1sIiwiY29udGVudHMiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiY29udHJvbGxlckFzIiwiZGF0YSIsImNoaWxkcmVuIiwicmVzb2x2ZUFzIiwieCIsInkiLCJGIiwiRyIsInoiLCJtb2R1bGUiLCJpbmZvIiwiYW5ndWxhclZlcnNpb24iLCJwcm92aWRlciIsImV4dGVuZCIsIk9iamVjdCIsImNyZWF0ZSIsImNhc2VJbnNlbnNpdGl2ZU1hdGNoIiwib3JpZ2luYWxQYXRoIiwicmVnZXhwIiwia2V5cyIsInJlcGxhY2UiLCJwdXNoIiwibmFtZSIsIm9wdGlvbmFsIiwiUmVnRXhwIiwiaXNBcnJheSIsImlzT2JqZWN0Iiwibm9vcCIsInRoaXMiLCJ3aGVuIiwibGVuZ3RoIiwiY2hhckF0IiwiaXNVbmRlZmluZWQiLCJyZWxvYWRPblNlYXJjaCIsInN1YnN0ciIsInJlZGlyZWN0VG8iLCJvdGhlcndpc2UiLCJlYWdlckluc3RhbnRpYXRpb25FbmFibGVkIiwiJGdldCIsImUiLCJoIiwicSIsInMiLCIkJHJvdXRlIiwiZXF1YWxzIiwicGF0aFBhcmFtcyIsIkQiLCIkYnJvYWRjYXN0IiwiZGVmYXVsdFByZXZlbnRlZCIsInByZXZlbnREZWZhdWx0IiwicGFyYW1zIiwiY29weSIsIkgiLCJyZXNvbHZlIiwiJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCIsInRoZW4iLCIkJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0Iiwicm91dGUiLCJoYXNSZWRpcmVjdGlvbiIsImlzU3RyaW5nIiwicGF0aCIsInNlYXJjaCIsInVybCIsInJlc29sdmVSZWRpcmVjdFRvIiwiaW52b2tlIiwiZm9yRWFjaCIsImFsbCIsInRlbXBsYXRlIiwiaXNGdW5jdGlvbiIsInRlbXBsYXRlVXJsIiwibG9hZGVkVGVtcGxhdGVVcmwiLCJ2YWx1ZU9mIiwiciIsImV4ZWMiLCJzcGxpdCIsIm1hdGNoIiwiam9pbiIsInJvdXRlcyIsInJlbG9hZCIsIiRldmFsQXN5bmMiLCJ1cGRhdGVQYXJhbXMiLCJJIiwicnVuIiwiJCRtaW5FcnIiLCIkaW5qZWN0IiwiZGlyZWN0aXZlIiwid2luZG93IiwiYW5ndWxhciJdLCJtYXBwaW5ncyI6IkFBQUEsY0FPQSxTQUFXQSxFQUFHQyxHQUVaLFFBQVNDLEdBQUVELEdBQ1RFLEdBQUtGLEVBQUVHLElBQUksVUFDWixRQUFTQyxHQUFFQyxFQUFHQyxFQUFHQyxHQUNoQixPQUFTQyxTQUFVLE1BQU9DLFVBQVUsRUFBSUMsU0FBVSxJQUFLQyxXQUFZLFVBQVdDLEtBQU0sU0FBY0MsRUFBR0MsRUFBR0MsRUFBR0MsRUFBR0MsR0FDMUcsUUFBU0MsS0FDUEMsSUFBTVosRUFBRWEsT0FBT0QsR0FBSUEsRUFBSSxNQUFNRSxJQUFNQSxFQUFFQyxXQUFZRCxFQUFJLE1BQU1FLElBQU1KLEVBQUlaLEVBQUVpQixNQUFNRCxHQUFJSixFQUFFTSxLQUFLLFNBQVVaLElBQ2hHLElBQU9BLElBQU1NLEVBQUksUUFDZkksRUFBSSxNQUNULFFBQVNHLEtBQ1IsR0FBSVgsR0FBSVYsRUFBRXNCLFNBQVd0QixFQUFFc0IsUUFBUUMsTUFBTyxJQUFJNUIsRUFBRTZCLFVBQVVkLEdBQUtBLEVBQUVlLFdBQVksQ0FDdkUsR0FBSWYsR0FBSUYsRUFBRWtCLE9BQ05mLEVBQUlYLEVBQUVzQixPQUFRSixH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WyJcInVzZSBzdHJpY3RcIjtcblxuLypcbiBBbmd1bGFySlMgdjEuNi42XG4gKGMpIDIwMTAtMjAxNyBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiBMaWNlbnNlOiBNSVRcbiovXG4oZnVuY3Rpb24gKEosIGQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBmdW5jdGlvbiBBKGQpIHtcbiAgICBrICYmIGQuZ2V0KFwiJHJvdXRlXCIpO1xuICB9ZnVuY3Rpb24gQih0LCB1LCBnKSB7XG4gICAgcmV0dXJuIHsgcmVzdHJpY3Q6IFwiRUNBXCIsIHRlcm1pbmFsOiAhMCwgcHJpb3JpdHk6IDQwMCwgdHJhbnNjbHVkZTogXCJlbGVtZW50XCIsIGxpbms6IGZ1bmN0aW9uIGxpbmsoYSwgZiwgYiwgYywgbSkge1xuICAgICAgICBmdW5jdGlvbiB2KCkge1xuICAgICAgICAgIGwgJiYgKGcuY2FuY2VsKGwpLCBsID0gbnVsbCk7biAmJiAobi4kZGVzdHJveSgpLCBuID0gbnVsbCk7cCAmJiAobCA9IGcubGVhdmUocCksIGwuZG9uZShmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgITEgIT09IGEgJiYgKGwgPSBudWxsKTtcbiAgICAgICAgICB9KSwgcCA9IG51bGwpO1xuICAgICAgICB9ZnVuY3Rpb24gRSgpIHtcbiAgICAgICAgICB2YXIgYiA9IHQuY3VycmVudCAmJiB0LmN1cnJlbnQubG9jYWxzO2lmIChkLmlzRGVmaW5lZChiICYmIGIuJHRlbXBsYXRlKSkge1xuICAgICAgICAgICAgdmFyIGIgPSBhLiRuZXcoKSxcbiAgICAgICAgICAgICAgICBjID0gdC5jdXJyZW50O3AgPSBtKGIsIGZ1bmN0aW9uIChiKSB7XG4gICAgICAgICAgICAgIGcuZW50ZXIoYiwgbnVsbCwgcCB8fCBmKS5kb25lKGZ1bmN0aW9uIChiKSB7XG4gICAgICAgICAgICAgICAgITEgPT09IGIgfHwgIWQuaXNEZWZpbmVkKHcpIHx8IHcgJiYgIWEuJGV2YWwodykgfHwgdSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdigpO1xuICAgICAgICAgICAgfSk7biA9IGMuc2NvcGUgPSBiO24uJGVtaXQoXCIkdmlld0NvbnRlbnRMb2FkZWRcIik7bi4kZXZhbChrKTtcbiAgICAgICAgICB9IGVsc2UgdigpO1xuICAgICAgICB9dmFyIG4sXG4gICAgICAgICAgICBwLFxuICAgICAgICAgICAgbCxcbiAgICAgICAgICAgIHcgPSBiLmF1dG9zY3JvbGwsXG4gICAgICAgICAgICBrID0gYi5vbmxvYWQgfHwgXCJcIjthLiRvbihcIiRyb3V0ZUNoYW5nZVN1Y2Nlc3NcIiwgRSk7RSgpO1xuICAgICAgfSB9O1xuICB9ZnVuY3Rpb24gQyhkLCBrLCBnKSB7XG4gICAgcmV0dXJuIHsgcmVzdHJpY3Q6IFwiRUNBXCIsIHByaW9yaXR5OiAtNDAwLCBsaW5rOiBmdW5jdGlvbiBsaW5rKGEsIGYpIHtcbiAgICAgICAgdmFyIGIgPSBnLmN1cnJlbnQsXG4gICAgICAgICAgICBjID0gYi5sb2NhbHM7Zi5odG1sKGMuJHRlbXBsYXRlKTt2YXIgbSA9IGQoZi5jb250ZW50cygpKTtpZiAoYi5jb250cm9sbGVyKSB7XG4gICAgICAgICAgYy4kc2NvcGUgPSBhO3ZhciB2ID0gayhiLmNvbnRyb2xsZXIsIGMpO2IuY29udHJvbGxlckFzICYmIChhW2IuY29udHJvbGxlckFzXSA9IHYpO2YuZGF0YShcIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyXCIsIHYpO2YuY2hpbGRyZW4oKS5kYXRhKFwiJG5nQ29udHJvbGxlckNvbnRyb2xsZXJcIiwgdik7XG4gICAgICAgIH1hW2IucmVzb2x2ZUFzIHx8IFwiJHJlc29sdmVcIl0gPSBjO20oYSk7XG4gICAgICB9IH07XG4gIH12YXIgeCxcbiAgICAgIHksXG4gICAgICBGLFxuICAgICAgRyxcbiAgICAgIHogPSBkLm1vZHVsZShcIm5nUm91dGVcIiwgW10pLmluZm8oeyBhbmd1bGFyVmVyc2lvbjogXCIxLjYuNlwiIH0pLnByb3ZpZGVyKFwiJHJvdXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB0KGEsIGYpIHtcbiAgICAgIHJldHVybiBkLmV4dGVuZChPYmplY3QuY3JlYXRlKGEpLCBmKTtcbiAgICB9ZnVuY3Rpb24gdShhLCBkKSB7XG4gICAgICB2YXIgYiA9IGQuY2FzZUluc2Vuc2l0aXZlTWF0Y2gsXG4gICAgICAgICAgYyA9IHsgb3JpZ2luYWxQYXRoOiBhLCByZWdleHA6IGEgfSxcbiAgICAgICAgICBnID0gYy5rZXlzID0gW107YSA9IGEucmVwbGFjZSgvKFsoKS5dKS9nLCBcIlxcXFwkMVwiKS5yZXBsYWNlKC8oXFwvKT86KFxcdyspKFxcKlxcP3xbPypdKT8vZywgZnVuY3Rpb24gKGEsIGIsIGQsIGMpIHtcbiAgICAgICAgYSA9IFwiP1wiID09PSBjIHx8IFwiKj9cIiA9PT0gYyA/IFwiP1wiIDogbnVsbDtjID0gXCIqXCIgPT09IGMgfHwgXCIqP1wiID09PSBjID8gXCIqXCIgOiBudWxsO2cucHVzaCh7IG5hbWU6IGQsIG9wdGlvbmFsOiAhIWEgfSk7YiA9IGIgfHwgXCJcIjtyZXR1cm4gXCJcIiArIChhID8gXCJcIiA6IGIpICsgXCIoPzpcIiArIChhID8gYiA6IFwiXCIpICsgKGMgJiYgXCIoLis/KVwiIHx8IFwiKFteL10rKVwiKSArIChhIHx8IFwiXCIpICsgXCIpXCIgKyAoYSB8fCBcIlwiKTtcbiAgICAgIH0pLnJlcGxhY2UoLyhbLyQqXSkvZywgXCJcXFxcJDFcIik7Yy5yZWdleHAgPSBuZXcgUmVnRXhwKFwiXlwiICsgYSArIFwiJFwiLCBiID8gXCJpXCIgOiBcIlwiKTtyZXR1cm4gYztcbiAgICB9eCA9IGQuaXNBcnJheTt5ID0gZC5pc09iamVjdDtGID0gZC5pc0RlZmluZWQ7RyA9IGQubm9vcDt2YXIgZyA9IHt9O3RoaXMud2hlbiA9IGZ1bmN0aW9uIChhLCBmKSB7XG4gICAgICB2YXIgYjtiID0gdm9pZCAwO2lmICh4KGYpKSB7XG4gICAgICAgIGIgPSBiIHx8IFtdO2ZvciAodmFyIGMgPSAwLCBtID0gZi5sZW5ndGg7IGMgPCBtOyBjKyspIHtcbiAgICAgICAgICBiW2NdID0gZltjXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh5KGYpKSBmb3IgKGMgaW4gYiA9IGIgfHwge30sIGYpIHtcbiAgICAgICAgaWYgKFwiJFwiICE9PSBjLmNoYXJBdCgwKSB8fCBcIiRcIiAhPT0gYy5jaGFyQXQoMSkpIGJbY10gPSBmW2NdO1xuICAgICAgfWIgPSBiIHx8IGY7ZC5pc1VuZGVmaW5lZChiLnJlbG9hZE9uU2VhcmNoKSAmJiAoYi5yZWxvYWRPblNlYXJjaCA9ICEwKTtkLmlzVW5kZWZpbmVkKGIuY2FzZUluc2Vuc2l0aXZlTWF0Y2gpICYmIChiLmNhc2VJbnNlbnNpdGl2ZU1hdGNoID0gdGhpcy5jYXNlSW5zZW5zaXRpdmVNYXRjaCk7Z1thXSA9IGQuZXh0ZW5kKGIsIGEgJiYgdShhLCBiKSk7YSAmJiAoYyA9IFwiL1wiID09PSBhW2EubGVuZ3RoIC0gMV0gPyBhLnN1YnN0cigwLCBhLmxlbmd0aCAtIDEpIDogYSArIFwiL1wiLCBnW2NdID0gZC5leHRlbmQoeyByZWRpcmVjdFRvOiBhIH0sIHUoYywgYikpKTtyZXR1cm4gdGhpcztcbiAgICB9O3RoaXMuY2FzZUluc2Vuc2l0aXZlTWF0Y2ggPSAhMTt0aGlzLm90aGVyd2lzZSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgYSAmJiAoYSA9IHsgcmVkaXJlY3RUbzogYSB9KTt0aGlzLndoZW4obnVsbCwgYSk7cmV0dXJuIHRoaXM7XG4gICAgfTtrID0gITA7dGhpcy5lYWdlckluc3RhbnRpYXRpb25FbmFibGVkID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgIHJldHVybiBGKGEpID8gKGsgPSBhLCB0aGlzKSA6IGs7XG4gICAgfTt0aGlzLiRnZXQgPSBbXCIkcm9vdFNjb3BlXCIsIFwiJGxvY2F0aW9uXCIsIFwiJHJvdXRlUGFyYW1zXCIsIFwiJHFcIiwgXCIkaW5qZWN0b3JcIiwgXCIkdGVtcGxhdGVSZXF1ZXN0XCIsIFwiJHNjZVwiLCBcIiRicm93c2VyXCIsIGZ1bmN0aW9uIChhLCBmLCBiLCBjLCBtLCBrLCB1LCBuKSB7XG4gICAgICBmdW5jdGlvbiBwKGUpIHtcbiAgICAgICAgdmFyIGggPSBxLmN1cnJlbnQ7KHkgPSAocyA9IEMoKSkgJiYgaCAmJiBzLiQkcm91dGUgPT09IGguJCRyb3V0ZSAmJiBkLmVxdWFscyhzLnBhdGhQYXJhbXMsIGgucGF0aFBhcmFtcykgJiYgIXMucmVsb2FkT25TZWFyY2ggJiYgIUQpIHx8ICFoICYmICFzIHx8IGEuJGJyb2FkY2FzdChcIiRyb3V0ZUNoYW5nZVN0YXJ0XCIsIHMsIGgpLmRlZmF1bHRQcmV2ZW50ZWQgJiYgZSAmJiBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9ZnVuY3Rpb24gbCgpIHtcbiAgICAgICAgdmFyIGUgPSBxLmN1cnJlbnQsXG4gICAgICAgICAgICBoID0gcztpZiAoeSkgZS5wYXJhbXMgPSBoLnBhcmFtcywgZC5jb3B5KGUucGFyYW1zLCBiKSwgYS4kYnJvYWRjYXN0KFwiJHJvdXRlVXBkYXRlXCIsIGUpO2Vsc2UgaWYgKGggfHwgZSkge1xuICAgICAgICAgIEQgPSAhMTtxLmN1cnJlbnQgPSBoO3ZhciBIID0gYy5yZXNvbHZlKGgpO24uJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCgpO0gudGhlbih3KS50aGVuKHopLnRoZW4oZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgIHJldHVybiBjICYmIEgudGhlbihBKS50aGVuKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgIGggPT09IHEuY3VycmVudCAmJiAoaCAmJiAoaC5sb2NhbHMgPSBjLCBkLmNvcHkoaC5wYXJhbXMsIGIpKSwgYS4kYnJvYWRjYXN0KFwiJHJvdXRlQ2hhbmdlU3VjY2Vzc1wiLCBoLCBlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoYikge1xuICAgICAgICAgICAgaCA9PT0gcS5jdXJyZW50ICYmIGEuJGJyb2FkY2FzdChcIiRyb3V0ZUNoYW5nZUVycm9yXCIsIGgsIGUsIGIpO1xuICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbi4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KEcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9ZnVuY3Rpb24gdyhlKSB7XG4gICAgICAgIHZhciBhID0geyByb3V0ZTogZSwgaGFzUmVkaXJlY3Rpb246ICExIH07aWYgKGUpIGlmIChlLnJlZGlyZWN0VG8pIHtcbiAgICAgICAgICBpZiAoZC5pc1N0cmluZyhlLnJlZGlyZWN0VG8pKSBhLnBhdGggPSB4KGUucmVkaXJlY3RUbywgZS5wYXJhbXMpLCBhLnNlYXJjaCA9IGUucGFyYW1zLCBhLmhhc1JlZGlyZWN0aW9uID0gITA7ZWxzZSB7XG4gICAgICAgICAgICB2YXIgYiA9IGYucGF0aCgpLFxuICAgICAgICAgICAgICAgIGcgPSBmLnNlYXJjaCgpO2UgPSBlLnJlZGlyZWN0VG8oZS5wYXRoUGFyYW1zLCBiLCBnKTtkLmlzRGVmaW5lZChlKSAmJiAoYS51cmwgPSBlLCBhLmhhc1JlZGlyZWN0aW9uID0gITApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChlLnJlc29sdmVSZWRpcmVjdFRvKSByZXR1cm4gYy5yZXNvbHZlKG0uaW52b2tlKGUucmVzb2x2ZVJlZGlyZWN0VG8pKS50aGVuKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgZC5pc0RlZmluZWQoZSkgJiYgKGEudXJsID0gZSwgYS5oYXNSZWRpcmVjdGlvbiA9ICEwKTtyZXR1cm4gYTtcbiAgICAgICAgfSk7cmV0dXJuIGE7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB6KGEpIHtcbiAgICAgICAgdmFyIGIgPSAhMDtpZiAoYS5yb3V0ZSAhPT0gcS5jdXJyZW50KSBiID0gITE7ZWxzZSBpZiAoYS5oYXNSZWRpcmVjdGlvbikge1xuICAgICAgICAgIHZhciBkID0gZi51cmwoKSxcbiAgICAgICAgICAgICAgYyA9IGEudXJsO2MgPyBmLnVybChjKS5yZXBsYWNlKCkgOiBjID0gZi5wYXRoKGEucGF0aCkuc2VhcmNoKGEuc2VhcmNoKS5yZXBsYWNlKCkudXJsKCk7YyAhPT0gZCAmJiAoYiA9ICExKTtcbiAgICAgICAgfXJldHVybiBiO1xuICAgICAgfWZ1bmN0aW9uIEEoYSkge1xuICAgICAgICBpZiAoYSkge1xuICAgICAgICAgIHZhciBiID0gZC5leHRlbmQoe30sIGEucmVzb2x2ZSk7ZC5mb3JFYWNoKGIsIGZ1bmN0aW9uIChhLCBlKSB7XG4gICAgICAgICAgICBiW2VdID0gZC5pc1N0cmluZyhhKSA/IG0uZ2V0KGEpIDogbS5pbnZva2UoYSwgbnVsbCwgbnVsbCwgZSk7XG4gICAgICAgICAgfSk7YSA9IEIoYSk7ZC5pc0RlZmluZWQoYSkgJiYgKGIuJHRlbXBsYXRlID0gYSk7cmV0dXJuIGMuYWxsKGIpO1xuICAgICAgICB9XG4gICAgICB9ZnVuY3Rpb24gQihhKSB7XG4gICAgICAgIHZhciBiLCBjO2QuaXNEZWZpbmVkKGIgPSBhLnRlbXBsYXRlKSA/IGQuaXNGdW5jdGlvbihiKSAmJiAoYiA9IGIoYS5wYXJhbXMpKSA6IGQuaXNEZWZpbmVkKGMgPSBhLnRlbXBsYXRlVXJsKSAmJiAoZC5pc0Z1bmN0aW9uKGMpICYmIChjID0gYyhhLnBhcmFtcykpLCBkLmlzRGVmaW5lZChjKSAmJiAoYS5sb2FkZWRUZW1wbGF0ZVVybCA9IHUudmFsdWVPZihjKSwgYiA9IGsoYykpKTtyZXR1cm4gYjtcbiAgICAgIH1mdW5jdGlvbiBDKCkge1xuICAgICAgICB2YXIgYSwgYjtkLmZvckVhY2goZywgZnVuY3Rpb24gKGMsIGcpIHtcbiAgICAgICAgICB2YXIgcjtpZiAociA9ICFiKSB7XG4gICAgICAgICAgICB2YXIgayA9IGYucGF0aCgpO3IgPSBjLmtleXM7dmFyIG0gPSB7fTtpZiAoYy5yZWdleHApIHtcbiAgICAgICAgICAgICAgaWYgKGsgPSBjLnJlZ2V4cC5leGVjKGspKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbCA9IDEsIG4gPSBrLmxlbmd0aDsgbCA8IG47ICsrbCkge1xuICAgICAgICAgICAgICAgICAgdmFyIHAgPSByW2wgLSAxXSxcbiAgICAgICAgICAgICAgICAgICAgICBxID0ga1tsXTtwICYmIHEgJiYgKG1bcC5uYW1lXSA9IHEpO1xuICAgICAgICAgICAgICAgIH1yID0gbTtcbiAgICAgICAgICAgICAgfSBlbHNlIHIgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHIgPSBudWxsO3IgPSBhID0gcjtcbiAgICAgICAgICB9ciAmJiAoYiA9IHQoYywgeyBwYXJhbXM6IGQuZXh0ZW5kKHt9LCBmLnNlYXJjaCgpLCBhKSwgcGF0aFBhcmFtczogYSB9KSwgYi4kJHJvdXRlID0gYyk7XG4gICAgICAgIH0pO3JldHVybiBiIHx8IGdbbnVsbF0gJiYgdChnW251bGxdLCB7IHBhcmFtczoge30sIHBhdGhQYXJhbXM6IHt9IH0pO1xuICAgICAgfWZ1bmN0aW9uIHgoYSwgYikge1xuICAgICAgICB2YXIgYyA9IFtdO2QuZm9yRWFjaCgoYSB8fCBcIlwiKS5zcGxpdChcIjpcIiksIGZ1bmN0aW9uIChhLCBkKSB7XG4gICAgICAgICAgaWYgKDAgPT09IGQpIGMucHVzaChhKTtlbHNlIHtcbiAgICAgICAgICAgIHZhciBlID0gYS5tYXRjaCgvKFxcdyspKD86Wz8qXSk/KC4qKS8pLFxuICAgICAgICAgICAgICAgIGYgPSBlWzFdO2MucHVzaChiW2ZdKTtjLnB1c2goZVsyXSB8fCBcIlwiKTtkZWxldGUgYltmXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO3JldHVybiBjLmpvaW4oXCJcIik7XG4gICAgICB9dmFyIEQgPSAhMSxcbiAgICAgICAgICBzLFxuICAgICAgICAgIHksXG4gICAgICAgICAgcSA9IHsgcm91dGVzOiBnLCByZWxvYWQ6IGZ1bmN0aW9uIHJlbG9hZCgpIHtcbiAgICAgICAgICBEID0gITA7dmFyIGIgPSB7IGRlZmF1bHRQcmV2ZW50ZWQ6ICExLCBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgICAgICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9ICEwO0QgPSAhMTtcbiAgICAgICAgICAgIH0gfTthLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcChiKTtiLmRlZmF1bHRQcmV2ZW50ZWQgfHwgbCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCB1cGRhdGVQYXJhbXM6IGZ1bmN0aW9uIHVwZGF0ZVBhcmFtcyhhKSB7XG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudCAmJiB0aGlzLmN1cnJlbnQuJCRyb3V0ZSkgYSA9IGQuZXh0ZW5kKHt9LCB0aGlzLmN1cnJlbnQucGFyYW1zLCBhKSwgZi5wYXRoKHgodGhpcy5jdXJyZW50LiQkcm91dGUub3JpZ2luYWxQYXRoLCBhKSksIGYuc2VhcmNoKGEpO2Vsc2UgdGhyb3cgSShcIm5vcm91dFwiKTtcbiAgICAgICAgfSB9O2EuJG9uKFwiJGxvY2F0aW9uQ2hhbmdlU3RhcnRcIiwgcCk7YS4kb24oXCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXCIsIGwpO3JldHVybiBxO1xuICAgIH1dO1xuICB9KS5ydW4oQSksXG4gICAgICBJID0gZC4kJG1pbkVycihcIm5nUm91dGVcIiksXG4gICAgICBrO0EuJGluamVjdCA9IFtcIiRpbmplY3RvclwiXTt6LnByb3ZpZGVyKFwiJHJvdXRlUGFyYW1zXCIsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfTtcbiAgfSk7ei5kaXJlY3RpdmUoXCJuZ1ZpZXdcIiwgQik7ei5kaXJlY3RpdmUoXCJuZ1ZpZXdcIiwgQyk7Qi4kaW5qZWN0ID0gW1wiJHJvdXRlXCIsIFwiJGFuY2hvclNjcm9sbFwiLCBcIiRhbmltYXRlXCJdO0MuJGluamVjdCA9IFtcIiRjb21waWxlXCIsIFwiJGNvbnRyb2xsZXJcIiwgXCIkcm91dGVcIl07XG59KSh3aW5kb3csIHdpbmRvdy5hbmd1bGFyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZ3VsYXItcm91dGUubWluLmpzLm1hcCJdfQ==
